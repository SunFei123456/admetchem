# DeepSeek AI é…ç½®æŒ‡å—ï¼ˆæœåŠ¡å™¨ç«¯é…ç½®ç‰ˆï¼‰

> **é‡è¦æ›´æ–°**ï¼šAPI Key ç°åœ¨åœ¨æœåŠ¡å™¨ç«¯ç»Ÿä¸€é…ç½®ï¼Œç”¨æˆ·æ— éœ€æ‰‹åŠ¨è¾“å…¥ã€‚

---

## ğŸ“‹ ç›®å½•

- [æ¦‚è¿°](#æ¦‚è¿°)
- [ç®¡ç†å‘˜é…ç½®ï¼ˆåç«¯ï¼‰](#ç®¡ç†å‘˜é…ç½®åç«¯)
- [ç”¨æˆ·ä½¿ç”¨ï¼ˆå‰ç«¯ï¼‰](#ç”¨æˆ·ä½¿ç”¨å‰ç«¯)
- [API æ¥å£è¯´æ˜](#api-æ¥å£è¯´æ˜)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸ¯ æ¦‚è¿°

### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ç”¨æˆ·   â”‚ ------> â”‚  åç«¯æœåŠ¡å™¨  â”‚ ------> â”‚  DeepSeek   â”‚
â”‚  (æ— éœ€é…ç½®)  â”‚         â”‚ (é…ç½® API Key)â”‚         â”‚   API       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¼˜åŠ¿

1. **ğŸ”’ å®‰å…¨æ€§é«˜** - API Key ä¸æš´éœ²ç»™å‰ç«¯
2. **âœ¨ ç”¨æˆ·å‹å¥½** - ç”¨æˆ·æ— éœ€é…ç½®ï¼Œå¼€ç®±å³ç”¨
3. **ğŸ¯ ç»Ÿä¸€ç®¡ç†** - ç®¡ç†å‘˜ç»Ÿä¸€ç®¡ç† API Key å’Œé¢åº¦
4. **ğŸ’° æˆæœ¬å¯æ§** - å¯ä»¥é™åˆ¶ä½¿ç”¨é‡ï¼Œé¿å…æ»¥ç”¨

---

## ğŸ‘¨â€ğŸ’¼ ç®¡ç†å‘˜é…ç½®ï¼ˆåç«¯ï¼‰

### æ­¥éª¤ 1ï¼šè·å– DeepSeek API Key

1. è®¿é—® [DeepSeek å®˜ç½‘](https://platform.deepseek.com/)
2. æ³¨å†Œå¹¶ç™»å½•è´¦å·
3. è¿›å…¥æ§åˆ¶å° â†’ API Keys â†’ Create API Key
4. å¤åˆ¶ç”Ÿæˆçš„ API Keyï¼ˆæ ¼å¼ï¼š`sk-xxxxxx`ï¼‰

### æ­¥éª¤ 2ï¼šé…ç½®åç«¯

#### æ–¹æ³• 1ï¼šç¯å¢ƒå˜é‡é…ç½®ï¼ˆæ¨èï¼‰

åœ¨ `backend/` ç›®å½•ä¸‹åˆ›å»ºæˆ–ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
# DeepSeek AI é…ç½®
DEEPSEEK_API_KEY=sk-your-api-key-here
DEEPSEEK_MODEL=deepseek-chat
DEEPSEEK_TEMPERATURE=0.7
```

#### æ–¹æ³• 2ï¼šç›´æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶

ç¼–è¾‘ `backend/app/core/config.py`ï¼š

```python
# DeepSeek AI é…ç½®
DEEPSEEK_API_KEY: str = "sk-your-api-key-here"
DEEPSEEK_MODEL: str = "deepseek-chat"
DEEPSEEK_TEMPERATURE: float = 0.7
```

### æ­¥éª¤ 3ï¼šå¯åŠ¨æœåŠ¡

```bash
cd backend
python run.py
```

### æ­¥éª¤ 4ï¼šéªŒè¯é…ç½®

è®¿é—® http://localhost:8000/api/v1/ai/providers

è¿”å›ç»“æœï¼š

```json
{
  "code": 0,
  "data": {
    "deepseek": {
      "name": "DeepSeek",
      "configured": true,  // âœ… è¡¨ç¤ºå·²é…ç½®
      "current_model": "deepseek-chat",
      "current_temperature": 0.7
    }
  }
}
```

---

## ğŸ‘¤ ç”¨æˆ·ä½¿ç”¨ï¼ˆå‰ç«¯ï¼‰

### è®¿é—® AI Chat

1. å¯åŠ¨å‰ç«¯ï¼š`npm run dev`
2. è®¿é—® http://localhost:3000
3. ç‚¹å‡»å¯¼èˆªæ  **"AI Chat"**
4. ç›´æ¥å¼€å§‹å¯¹è¯ï¼Œæ— éœ€é…ç½®ï¼âœ¨

### è°ƒæ•´å‚æ•°ï¼ˆå¯é€‰ï¼‰

ç”¨æˆ·å¯ä»¥åœ¨å‰ç«¯è®¾ç½®ä¸­è°ƒæ•´ï¼š

1. **æ¨¡å‹é€‰æ‹©**
   - `deepseek-chat`ï¼šé€šç”¨å¯¹è¯
   - `deepseek-coder`ï¼šä»£ç ä¸“ç”¨

2. **æ¸©åº¦å‚æ•°**
   - `0.0`ï¼šæœ€ç²¾ç¡®
   - `0.7`ï¼šé»˜è®¤ï¼ˆå¹³è¡¡ï¼‰
   - `1.0`ï¼šæœ€æœ‰åˆ›é€ åŠ›

> âš ï¸ **æ³¨æ„**ï¼šå‰ç«¯è®¾ç½®åªå½±å“å½“å‰ä¼šè¯ï¼Œä¸ä¼šä¿®æ”¹æœåŠ¡å™¨ç«¯çš„é»˜è®¤é…ç½®ã€‚

---

## ğŸ”Œ API æ¥å£è¯´æ˜

### 1. è·å–é…ç½®ä¿¡æ¯

**è¯·æ±‚**
```http
GET /api/v1/ai/providers
Authorization: Bearer <token>
```

**å“åº”**
```json
{
  "code": 0,
  "data": {
    "deepseek": {
      "name": "DeepSeek",
      "configured": true,
      "models": ["deepseek-chat", "deepseek-coder"],
      "current_model": "deepseek-chat",
      "current_temperature": 0.7
    }
  }
}
```

### 2. å‘é€èŠå¤©æ¶ˆæ¯ï¼ˆæµå¼å“åº”ï¼‰

**è¯·æ±‚**
```http
POST /api/v1/ai/chat/stream
Authorization: Bearer <token>
Content-Type: application/json

{
  "model": "deepseek-chat",  // å¯é€‰
  "temperature": 0.7,          // å¯é€‰
  "messages": [
    {"role": "user", "content": "What is ADMET?"}
  ]
}
```

**å“åº”ï¼ˆSSE æµå¼ï¼‰**
```
data: {"content": "ADMET"}
data: {"content": " stands"}
data: {"content": " for..."}
data: {"done": true}
```

### 3. è·å–å¯ç”¨æ¨¡å‹

**è¯·æ±‚**
```http
GET /api/v1/ai/models
Authorization: Bearer <token>
```

**å“åº”**
```json
{
  "code": 0,
  "data": ["deepseek-chat", "deepseek-coder"]
}
```

---

## â“ å¸¸è§é—®é¢˜

### ç®¡ç†å‘˜é—®é¢˜

#### Q1: å¦‚ä½•æ£€æŸ¥ API Key æ˜¯å¦æœ‰æ•ˆï¼Ÿ

è®¿é—® DeepSeek æ§åˆ¶å°æŸ¥çœ‹ä½™é¢å’Œä½¿ç”¨æƒ…å†µï¼š
https://platform.deepseek.com/usage

#### Q2: å¦‚ä½•æ›´æ¢ API Keyï¼Ÿ

1. åœ¨ DeepSeek æ§åˆ¶å°ç”Ÿæˆæ–°çš„ API Key
2. æ›´æ–° `.env` æ–‡ä»¶æˆ– `config.py`
3. é‡å¯åç«¯æœåŠ¡

#### Q3: å¦‚ä½•é™åˆ¶ç”¨æˆ·ä½¿ç”¨é‡ï¼Ÿ

å¯ä»¥åœ¨åç«¯æ·»åŠ ä¸­é—´ä»¶ï¼Œé™åˆ¶ï¼š
- æ¯ç”¨æˆ·æ¯å¤©è¯·æ±‚æ¬¡æ•°
- æ¯æ¬¡è¯·æ±‚çš„æœ€å¤§ Token æ•°
- ç‰¹å®šæ—¶é—´æ®µçš„å¹¶å‘è¯·æ±‚æ•°

#### Q4: API é¢åº¦ç”¨å°½æ€ä¹ˆåŠï¼Ÿ

1. **ç»­è´¹**ï¼šè®¿é—® DeepSeek æ§åˆ¶å°å……å€¼
2. **ç”³è¯·å…è´¹é¢åº¦**ï¼šæ–°ç”¨æˆ·æœ‰ 500 ä¸‡ tokens å…è´¹
3. **ä¼˜åŒ–ä½¿ç”¨**ï¼š
   - é™åˆ¶å¯¹è¯å†å²é•¿åº¦
   - ä½¿ç”¨æ›´ä½æˆæœ¬çš„æ¨¡å‹
   - å®æ–½ç”¨æˆ·é…é¢åˆ¶åº¦

### ç”¨æˆ·é—®é¢˜

#### Q1: ä¸ºä»€ä¹ˆä¸éœ€è¦é…ç½® API Keyï¼Ÿ

API Key åœ¨æœåŠ¡å™¨ç«¯ç»Ÿä¸€é…ç½®ï¼Œç”¨æˆ·æ— éœ€å…³å¿ƒï¼Œç›´æ¥ä½¿ç”¨å³å¯ã€‚

#### Q2: å¯ä»¥ä½¿ç”¨å…¶ä»– AI æœåŠ¡å—ï¼Ÿ

å½“å‰ç‰ˆæœ¬ä»…æ”¯æŒ DeepSeekï¼Œå¦‚éœ€å…¶ä»–æœåŠ¡ï¼Œè¯·è”ç³»ç®¡ç†å‘˜ã€‚

#### Q3: å¯¹è¯å†å²ä¼šä¿å­˜å—ï¼Ÿ

å½“å‰ç‰ˆæœ¬ä¸ä¿å­˜å¯¹è¯å†å²ï¼Œåˆ·æ–°é¡µé¢åä¼šæ¸…ç©ºã€‚
å¦‚éœ€ä¿å­˜ï¼Œå¯ä»¥ä½¿ç”¨æµè§ˆå™¨çš„æœ¬åœ°å­˜å‚¨æˆ–è”ç³»ç®¡ç†å‘˜æ·»åŠ åç«¯å­˜å‚¨ã€‚

#### Q4: æ¶ˆæ¯å‘é€å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. åˆ·æ–°é¡µé¢é‡è¯•
3. è”ç³»ç®¡ç†å‘˜æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€

---

## ğŸ”’ å®‰å…¨å»ºè®®

### ç®¡ç†å‘˜

1. **ä¿æŠ¤ API Key**
   - ä¸è¦æäº¤åˆ° Git ä»“åº“
   - ä½¿ç”¨ç¯å¢ƒå˜é‡
   - å®šæœŸè½®æ¢

2. **ç›‘æ§ä½¿ç”¨æƒ…å†µ**
   - å®šæœŸæ£€æŸ¥ API è°ƒç”¨é‡
   - è®¾ç½®ä½™é¢é¢„è­¦
   - è®°å½•å¼‚å¸¸ä½¿ç”¨

3. **è®¿é—®æ§åˆ¶**
   - ç¡®ä¿ AI æ¥å£éœ€è¦ç™»å½•
   - å®æ–½è¯·æ±‚é¢‘ç‡é™åˆ¶
   - è®°å½•æ‰€æœ‰ API è°ƒç”¨æ—¥å¿—

### ç”¨æˆ·

1. **ä¸è¦å‘é€æ•æ„Ÿä¿¡æ¯**
   - å¯†ç ã€å¯†é’¥ç­‰
   - ä¸ªäººéšç§ä¿¡æ¯
   - å•†ä¸šæœºå¯†

2. **åˆç†ä½¿ç”¨**
   - é¿å…å‘é€è¿‡é•¿çš„æ¶ˆæ¯
   - ä¸è¦é¢‘ç¹å‘é€é‡å¤è¯·æ±‚
   - å°Šé‡æœåŠ¡å™¨èµ„æº

---

## ğŸ“Š æŠ€æœ¯æ¶æ„

### åç«¯æ¶æ„

```python
# é…ç½®å±‚ (config.py)
DEEPSEEK_API_KEY = "sk-xxx"

# æœåŠ¡å±‚ (ai_factory.py)
def create_deepseek_service():
    return DeepSeekService(api_key=settings.DEEPSEEK_API_KEY)

# API å±‚ (ai.py)
@router.post("/chat/stream")
async def chat_stream(request: ChatRequest):
    service = AIServiceFactory.create_deepseek_service()
    return StreamingResponse(service.chat_stream(...))
```

### å‰ç«¯æ¶æ„

```javascript
// API è°ƒç”¨ (ai.js)
export async function sendChatMessageStream(data, onChunk, onError, onComplete) {
  const response = await fetch('/api/v1/ai/chat/stream', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${token}`  // åªéœ€ç™»å½• Token
    },
    body: JSON.stringify({
      model: data.model,        // å¯é€‰
      messages: data.messages,
      temperature: data.temperature  // å¯é€‰
    })
  })
  // å¤„ç†æµå¼å“åº”...
}
```

---

## ğŸ“ è·å–å¸®åŠ©

- **åç«¯é…ç½®é—®é¢˜**ï¼šå‚è€ƒ `backend/README_DeepSeek_é…ç½®æŒ‡å—.md`
- **DeepSeek å®˜æ–¹æ–‡æ¡£**ï¼šhttps://platform.deepseek.com/api-docs/
- **é¡¹ç›®æ–‡æ¡£**ï¼š`docs/` ç›®å½•

---

**æ›´æ–°æ—¶é—´**ï¼š2025-01-17
**ç‰ˆæœ¬**ï¼šv2.0ï¼ˆæœåŠ¡å™¨ç«¯é…ç½®ç‰ˆï¼‰
